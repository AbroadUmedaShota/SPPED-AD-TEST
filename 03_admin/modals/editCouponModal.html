<div id="editCouponModal" class="fixed inset-0 flex items-center justify-center p-4 modal-overlay hidden z-[60]" data-state="closed">
    <div class="bg-surface rounded-lg shadow-xl p-6 w-full max-w-2xl modal-content-transition" data-state="closed">
        <div class="flex justify-between items-center mb-6">
            <h3 class="text-on-surface text-xl font-semibold">クーポン編集</h3>
            <button class="text-on-surface-variant hover:text-on-surface" id="closeEditCouponModalBtn" aria-label="モーダルを閉じる">
                <span class="material-icons">close</span>
            </button>
        </div>
        <form id="editCouponForm" class="space-y-4">
            <input type="hidden" id="editCouponId" name="id">
            <!-- 非表示のIDフィールド -->

            <!-- クーポン種別 (編集不可) -->
            <div class="input-group">
                <label class="input-label">クーポン種別</label>
                <p id="edit-couponType" class="text-on-surface-variant pt-2"></p>
            </div>

            <!-- クーポンコード (編集不可) -->
            <div class="input-group">
                <label class="input-label">クーポンコード</label>
                <p id="edit-couponCode" class="text-on-surface-variant pt-2 font-mono"></p>
            </div>

            <!-- クーポン名称 (編集可能) -->
            <div class="input-group">
                <input class="input-field" id="edit-couponName" name="couponName" placeholder=" " type="text" required>
                <label class="input-label" for="edit-couponName">クーポン名称</label>
            </div>

            <!-- 割引率 (編集不可) -->
            <div class="input-group">
                <label class="input-label">割引率</label>
                <p id="edit-discountRate" class="text-on-surface-variant pt-2"></p>
            </div>

            <!-- 有効期限 (編集可能) -->
            <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                <div class="input-group">
                    <input class="input-field" id="edit-validFrom" name="validFrom" placeholder=" " type="date" required>
                    <label class="input-label" for="edit-validFrom">有効期間（開始）</label>
                </div>
                <div class="input-group">
                    <input class="input-field" id="edit-validTo" name="validTo" placeholder=" " type="date" required>
                    <label class="input-label" for="edit-validTo">有効期間（終了）</label>
                </div>
            </div>

            <!-- 利用回数上限 (編集可能) -->
            <div class="input-group">
                <input class="input-field" id="edit-usageLimit" name="usageLimit" placeholder=" " type="number" min="1" required>
                <label class="input-label" for="edit-usageLimit">利用回数上限</label>
                <label class="flex items-center gap-2 mt-1 text-sm">
                    <input type="checkbox" id="edit-unlimitedUsage" class="form-checkbox">
                    <span>無制限</span>
                </label>
            </div>

            <!-- メモ (編集可能) -->
            <div class="input-group">
                <textarea class="input-field" id="edit-couponMemo" name="couponMemo" placeholder=" " rows="3"></textarea>
                <label class="input-label" for="edit-couponMemo">メモ（任意）</label>
            </div>

            <!-- ボタン -->
            <div class="flex justify-end gap-3 pt-4">
                <button id="cancelEditCouponModalBtn" class="bg-secondary-container text-on-secondary-container py-2 px-4 rounded-md shadow-sm text-sm font-semibold" type="button">キャンセル</button>
                <button id="updateCouponFromModalBtn" class="button-primary text-on-primary py-2 px-4 rounded-md shadow-sm text-sm font-semibold" type="submit">更新する</button>
            </div>
        </form>
    </div>
</div>