### `premium_signup_new.html` から始まるプレミアムプラン登録のテストシナリオだぺこ！

#### **I. アカウント情報の状態とモーダルの挙動に関するシナリオ**

1.  **シナリオ名**: 登録済みアカウント情報が完全に存在する**新規ユーザー**の登録（モーダル利用・全項目自動入力）
    *   **前提**: `window.dummyUserData`に氏名（`lastName`）、会社名（`companyName`）、電話番号、住所、郵便番号、部署名、役職名など、必要な情報がすべて入力されている状態。
    *   **期待動作**:
        1.  `premium_signup_new.html`で「今すぐ申し込む」をクリックすると、`premium_registration_spa.html`へ遷移する。
        2.  アカウント情報確認モーダルが自動的に表示される。
        3.  モーダル内の氏名・会社名・メールアドレスが正しく表示される。
        4.  「はい、この情報を使って登録へ進む」をクリックする。
        5.  入力フォーム（`step-input`）が表示されずに、自動的に確認画面（`step-confirm`）へ遷移する。
        6.  確認画面に`window.dummyUserData`の全情報が正しく表示される。
        7.  「この内容で登録する」をクリックし、完了画面（`step-complete`）へ遷移する。
        8.  完了画面が表示される。

2.  **シナリオ名**: 登録済みアカウント情報が一部のみ存在する**新規ユーザー**の登録（モーダル利用・一部自動入力・一部手入力）
    *   **前提**: `window.dummyUserData`に氏名（`lastName`）と会社名（`companyName`）は存在するが、電話番号や住所など必須の一部情報が欠けている、または空文字の状態。
    *   **期待動作**:
        1.  `premium_signup_new.html`で「今すぐ申し込む」をクリックすると、`premium_registration_spa.html`へ遷移する。
        2.  アカウント情報確認モーダルが自動的に表示される。
        3.  モーダル内の氏名・会社名・メールアドレスが正しく表示される。
        4.  「はい、この情報を使って登録へ進む」をクリックする。
        5.  入力フォーム（`step-input`）へ遷移し、`window.dummyUserData`から提供された情報（氏名、会社名など）は自動入力されている。
        6.  欠けている必須項目（電話番号、住所など）は空欄またはエラー状態になっている。
        7.  ユーザーが不足情報を手入力し、「確認画面へ進む」をクリックすると、確認画面へ遷移する。
        8.  確認画面に手入力された情報を含む全情報が正しく表示される。
        9.  「この内容で登録する」をクリックし、完了画面へ遷移する。
        10. 完了画面が表示される。

3.  **シナリオ名**: 登録済みアカウント情報が存在しない**新規ユーザー**の登録（モーダルスキップ・全項目手入力）
    *   **前提**: `window.dummyUserData`が存在しない、または`userData.lastName`や`userData.companyName`が`undefined`/`null`/空文字のいずれかで、モーダル表示条件を満たさない状態。
    *   **期待動作**:
        1.  `premium_signup_new.html`で「今すぐ申し込む」をクリックすると、`premium_registration_spa.html`へ遷移する。
        2.  アカウント情報確認モーダルは表示されず、直接入力フォーム（`step-input`）へ遷移する。
        3.  入力フォームは全項目が空欄になっている。
        4.  ユーザーが全項目を手入力し、「確認画面へ進む」をクリックすると、確認画面へ遷移する。
        5.  確認画面に手入力された全情報が正しく表示される。
        6.  「この内容で登録する」をクリックし、完了画面へ遷移する。
        7.  完了画面が表示される。

4.  **シナリオ名**: アカウント情報確認モーダルで「いいえ、情報を入力する」を選択
    *   **前提**: `window.dummyUserData`に情報が存在し、モーダルが表示される状態。
    *   **期待動作**:
        1.  `premium_signup_new.html`で「今すぐ申し込む」をクリックすると、`premium_registration_spa.html`へ遷移する。
        2.  アカウント情報確認モーダルが自動的に表示される。
        3.  「いいえ、情報を入力する」をクリックする。
        4.  入力フォーム（`step-input`）へ遷移し、フォームは空欄になっている（自動入力はされない）。
        5.  ユーザーが全項目を手入力し、「確認画面へ進む」をクリックすると、確認画面へ遷移する。
        6.  確認画面に手入力された全情報が正しく表示される。
        7.  「この内容で登録する」をクリックし、完了画面へ遷移する。
        8.  完了画面が表示される。

#### **II. フォーム入力とバリデーションに関するシナリオ**

1.  **シナリオ名**: 入力フォームの必須項目が未入力（エラー表示）
    *   **前提**: 入力フォーム（`step-input`）で、氏名、会社名、電話番号、郵便番号、住所のいずれか、または複数項目が未入力のまま「確認画面へ進む」をクリックする。
    *   **期待動作**:
        1.  入力エラーメッセージが未入力の項目の下に表示される。
        2.  入力フィールドが赤枠で強調される。
        3.  確認画面へは遷移しない。

2.  **シナリオ名**: 入力フォームの電話番号/郵便番号のフォーマットが不正（エラー表示）
    *   **前提**: 入力フォーム（`step-input`）で、電話番号または郵便番号が不正なフォーマット（例：電話番号が9桁、郵便番号が6桁）で「確認画面へ進む」をクリックする。
    *   **期待動作**:
        1.  入力エラーメッセージが該当項目の下に表示される。
        2.  入力フィールドが赤枠で強調される。
        3.  確認画面へは遷移しない。

3.  **シナリオ名**: 住所自動入力機能の利用（郵便番号からの自動入力）
    *   **前提**: 入力フォーム（`step-input`）で、有効な7桁の郵便番号を入力し、「郵便番号から住所を自動入力」ボタンをクリックする。
    *   **期待動作**:
        1.  入力された郵便番号に基づいて、住所フィールドに住所が自動入力される。
        2.  住所フィールドのバリデーションが実行され、エラーがなければ赤枠が消える。

4.  **シナリオ名**: 住所自動入力機能の利用（不正な郵便番号で検索）
    *   **前提**: 入力フォーム（`step-input`）で、不正な郵便番号（例：8桁、存在しない番号）を入力し、「郵便番号から住所を自動入力」ボタンをクリックする。
    *   **期待動作**:
        1.  「該当する住所が見つかりませんでした」のようなエラーメッセージが表示される。
        2.  住所フィールドは空欄のまま、または以前の入力が保持される。

#### **III. 画面遷移に関するシナリオ**

1.  **シナリオ名**: 確認画面から入力フォームへの戻る操作
    *   **前提**: 確認画面（`step-confirm`）が表示されている状態で、「修正する」ボタンをクリックする。
    *   **期待動作**:
        1.  入力フォーム（`step-input`）へ戻る。
        2.  入力フォームには、確認画面へ進む前に入力されていた情報が保持されている。
        3.  ステップインジケーターが「入力」ステップをアクティブにする。

2.  **シナリオ名**: 登録完了後のダッシュボードへの遷移
    *   **前提**: 登録完了画面（`step-complete`）が表示されている状態で、「ダッシュボードへ戻る」ボタンをクリックする。
    *   **期待動作**:
        1.  ダッシュボード（`index.html`など）へ画面遷移する。

