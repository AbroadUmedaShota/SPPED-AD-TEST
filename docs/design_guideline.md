# デザインガイドライン: SpeedAd

## 1. はじめに

このドキュメントは、SpeedAdアプリケーションのUIデザインにおける一貫性と品質を保証するためのガイドラインを定めます。
本文書はモダンデザインとアクセシビリティを重視し、カラースキーム、タイポグラフィ、コンポーネントのスタイル、スペーシングなど、UIを構成する要素の基準を明確にします。

## 2. レイアウト

- **グリッド**: 4pxベースのレスポンシブグリッド。主要コンテンツエリアには最大幅を適用し、デスクトップサイズでは左右均等な余白を確保します。可能であれば、情報のまとまりにはBentoグリッドの考え方を取り入れます。
- **スペーシング**: 要素間、コンテンツとコンテナ間の余白は4pxの倍数（例: 4px, 8px, 12px, 16px, 24px, 32pxなど）を使用します。
- **最大幅**: デスクトップ時の主要コンテンツエリアの最大幅は1280pxとします。
- **ブレークポイント**: `sm: 640px`, `md: 768px`, `lg: 1024px`, `xl: 1280px`, `2xl: 1536px`

## 3. カラーパレット

### 3.1. 基本思想

- **全体トーン**: シンプル・クリーン。現場の使いやすさを最優先します。
- **基本**: 白・薄グレーをベースとします。
- **アクセント**: 濃い紫・蒼色を主要CTAや注目箇所に使用します。
- **配色バランス**: 主に背景色70%、アクセント色20%、テキスト・その他10%を目安に、ホワイトスペースを十分に取ります。

### 3.2. ライトモード

| 用途 | 色名 | HEX | 説明 |
| :--- | :--- | :--- | :--- |
| **背景 (メイン)** | Background Main | `#FFFFFF` | 画面全体の基本背景色。 |
| **背景 (サブ)** | Background Sub | `#F0F0F0` | カードやセクションの背景など。 |
| **テキスト (メイン)** | Text Main | `#1A1A1A` | 主要なテキスト。 |
| **テキスト (サブ)** | Text Sub | `#6B6B6B` | 補足情報やヒントテキスト。 |
| **ブランド (プライマリ)** | Brand Primary Purple | `#4B2E83` | 最も重要なアクションやブランドロゴに使用。 |
| **ブランド (セカンダリ)** | Brand Secondary Blue | `#2064A8` | リンクやフォーカス時のハイライトに使用。 |
| **状態 (エラー)** | State Error | `#D32F2F` | エラーメッセージや破壊的操作のボタン。 |

### 3.3. ダークモード

| 用途 | 色名 | HEX | 説明 |
| :--- | :--- | :--- | :--- |
| **背景 (メイン)** | Background Main | `#121212` | ダークモードの基本背景色。 |
| **背景 (サブ)** | Background Sub | `#1E1E1E` | カードやセクションの背景など。 |
| **テキスト (メイン)** | Text Main | `#E0E0E0` | 主要なテキスト。 |
| **テキスト (サブ)** | Text Sub | `#BBBBBB` | 補足情報。 |
| **ブランド (プライマリ)** | Brand Primary Purple | `#BB86FC` | ライトモードのPrimaryに対応。 |
| **ブランド (セカンダリ)** | Brand Secondary Blue | `#03DAC6` | ライトモードのSecondaryに対応。 |
| **状態 (エラー)** | State Error | `#CF6679` | エラー状態。 |

## 4. タイポグラフィ

- **フォントファミリー**: 和文: `Noto Sans JP`, 欧文: `Inter`, フォールバック: `system-UI`
- **スケール**: Material 3のタイプスケールを基本とします。
    - **Display Large**: 56px
    - **Headline Large**: 32px
    - **Title Large**: 22px
    - **Body Large**: 16px
    - **Body Medium**: 14px
    - **Body Small**: 12px
- **行長**: 45〜80文字程度が理想です。
- **行高**: 1.4〜1.6が目安です。

## 5. コンポーネント

### 5.1. ボタン (Button)

ボタンはユーザーのアクションを促す重要な要素です。状態（通常、ホバー、無効）に応じて明確な視覚的フィードバックを提供します。

| バリアント | 用途 | スタイル (ライトモード) | ホバー時 |
| :--- | :--- | :--- | :--- |
| **Primary** | 最も重要なアクション (新規作成, 保存など) | `gradient-primary-bg`, `text-on-primary` | 明るいグラデーション or 単色 |
| **Secondary** | 標準的なアクション (編集, 詳細表示など) | `bg-secondary-container`, `text-on-secondary-container` | `bg-secondary-container/80` (少し暗く) |
| **Danger** | 破壊的なアクション (削除など) | `bg-red-500`, `text-white` | `bg-red-600` |
| **Text/Icon** | 補助的なアクション (テーブル内の編集アイコン等) | 透明な背景, `text-secondary` | `bg-surface-variant` |

- **無効状態**: ボタンは `opacity-50` と `cursor-not-allowed` を適用し、操作不可であることを示します。
- **アイコン**: ボタンラベルの左側に `material-icons` を配置し、視認性を高めることがあります。

### 5.2. モーダル (Modal)

モーダルは、ユーザーの現在のタスクフローを中断せずに、追加情報やアクションを提供するために使用されます。

- **構造**:
    - **オーバーレイ**: 画面全体を覆う半透明の背景 (`modal-overlay`)。ユーザーの注意をモーダルに集中させます。
    - **コンテンツパネル**: `bg-surface` の背景色と `shadow-xl` の影を持つ、角丸 (`rounded-lg`) のパネル。
    - **ヘッダー**: モーダルのタイトルと閉じるボタン (`×`) を配置。下線 (`border-b`) でコンテンツと区切られます。
    - **コンテンツエリア**: スクロール可能なメイン領域。フォーム要素や情報表示にはグリッドレイアウト (`grid`) を活用します。
    - **フッター**: アクションボタン（「閉じる」「保存」など）を右寄せで配置。上線 (`border-t`) でコンテンツと区切られます。

- **動作**:
    - **表示/非表示**: `modal-content-transition` クラスにより、表示時にスケールアップとフェードインのアニメーションが適用されます。
    - **閉じる操作**: 右上の「×」ボタン、フッターの「閉じる」または「キャンセル」ボタン、または `Esc` キーを押すことでモーダルを閉じることができます。

### 5.3. カード (Card)

- **スタイル**: `bg-surface`, `rounded-xl`, `shadow-soft` を基本とし、関連情報をグループ化します。
- **用途**: フィルターエリアや、将来的なダッシュボードのウィジェットなどに使用します。

### 5.4. 入力フィールド (Input)

- **標準スタイル**: アプリケーション内の全ての入力フォームで**フローティングラベル** (`input-group` と `input-field` クラスを使用) を標準スタイルとします。これにより、UIの一貫性を保ち、ユーザーが常に入力項目を把握できるようにします。
- **状態**: 通常時は `border-outline-variant`、フォーカス時は `ring-secondary` で状態変化を明示します。エラー時は枠線が赤 (`border-red-500`) になり、フィールド直下にエラーメッセージを表示します。

### 5.5. 通知 (Notification)

操作の結果をユーザーにフィードバックするために、画面右上にトースト通知を表示します。状態に応じてデザインを変更し、視認性を高めます。

| タイプ | 用途 | アイコン | スタイル (ライトモード) |
| :--- | :--- | :--- | :--- |
| **Success** | 操作の成功 | `check_circle` | `bg-green-500`, `text-white` |
| **Error** | 操作の失敗、エラー | `error` | `bg-red-500`, `text-white` |
| **Info** | 情報、未実装機能の通知 | `info` | `bg-blue-500`, `text-white` |

- **アニメーション**: 表示時は画面外からスライドインし、数秒後に自動でスライドアウトします。
- **閉じる操作**: 通知内に閉じるボタンを配置し、ユーザーが手動で非表示にすることも可能です。

## 6. アクセシビリティ

- **セマンティクス**: WAI-ARIAのロールとランドマークを適切に使用します。
- **フォーカス**: キーボードフォーカス時には、ブランドカラーのアウトラインを表示します。
- **コントラスト**: WCAG 2.2 AAレベル以上のコントラスト比を確保します。

## 7. 画面別適用例: アンケート管理ダッシュボード

本ガイドラインが `02_dashboard/index.html` でどのように適用されているかの具体例を示します。

### 7.1. 全体レイアウト

- **ヘッダー**: `gradient-primary-bg` を使用し、ブランドカラーを明確に示しています。高さは `h-16` (64px) に固定されています。
- **サイドバー**: 背景に `bg-surface` を使用し、メインコンテンツとの区別を付けています。レスポンシブ対応がされており、モバイルではオーバーレイとして表示されます。
- **メインコンテンツ**: 全体の背景は `bg-background` とし、主要な情報はカード(`bg-surface`)の中に配置されています。

### 7.2. カラーとテーマ

- **ライトモード**: 背景 `bg-background` (`#FFFFFF`)、テキスト `text-on-background` (`#1A1A1A`) が基本です。
- **ダークモード**: CSS変数を通じて、ダークモード用のカラーパレットに切り替わります。
- **アクセントカラー**: 「アンケート新規作成」ボタンやヘッダーに `gradient-primary-bg` を使用し、ユーザーの主要なアクションを促しています。

### 7.3. タイポグラフィ

- **見出し**: ページタイトル「アンケート一覧」は `text-2xl` (24px) または `text-3xl` (30px) の `font-bold` となっており、`Headline Large` スケールに近いです。
- **本文**: テーブル内のテキストは `text-sm` (14px) で、`Body Medium` スケールに対応します。
- **ラベル**: フォームのラベルは `text-xs` (12px) または `text-sm` (14px) で、`Body Small/Medium` に対応します。

### 7.4. コンポーネント

- **ボタン**:
    - **プライマリ(CTA)**: 「アンケート新規作成」ボタンは `gradient-primary-bg` を使用した主要ボタンです。
    - **セカンダリ**: テーブル内のアクションボタン（編集、QRなど）は `text-secondary` を基本とし、ホバー時に `bg-secondary-container` が適用されるスタイルです。
- **テーブル**: ヘッダーは `bg-surface-variant` で本文と区別され、行ホバー時には `hover:bg-surface-variant` でフィードバックがあります。
- **フォーム入力**:
    - フィルターエリアの入力欄は、`border-outline-variant` の枠線を持ち、フォーカス時に `focus:ring-secondary` でハイライトされます。
    - モーダル内の入力欄は、フローティングラベル（`input-group`）と静的ラベルの2種類が使われています。
- **モーダル**:
    - 背景には半透明のオーバーレイ (`modal-overlay`) が敷かれ、コンテンツは `bg-surface` のカード内に表示されます。
    - `surveyDetailsModal` や `qrCodeModal` では、情報を整理するためにグリッドレイアウトやフッターが効果的に使用されています。