---
owner: product
status: draft
last_reviewed: 2026-02-18
---

# プレミアム登録画面 要件定義書

## 1. 概要

本ドキュメントは、プレミアム登録画面の機能要件、UX要件、法的要件、決済要件を明確にし、関係者間で要件の認識を合わせ、開発の指針とすることを目的とします。

## 2. 前提条件と基本情報の取り扱い

### 2.0. システムフロー前提

本プレミアム登録画面にアクセスする際のユーザーの状態とシステム挙動は以下の通りです。

*   **ケース1: ログイン済みユーザーの場合**
    *   **前提条件:** 無料アカウントでログイン済み（セッション有効状態）のユーザー。
    *   **システム挙動:**
        *   ユーザーがプレミアム登録画面へのリンク（例: ダッシュボード内の「プレミアム登録」ボタンなど）をクリックすると、認証状態を維持したまま、プレミアム登録画面へ直接遷移します。
        *   ログインセッション情報は自動的に引き継がれ、これにより登録フォームの初期値（氏名、会社名など）の自動入力が可能となります。
    *   **ユーザー体験:** スムーズにプレミアム登録プロセスを開始できます。

*   **ケース2: 未ログインユーザーまたは長時間経過（セッションタイムアウト）ユーザーの場合**
    *   **前提条件:** 未ログイン状態のユーザー、またはログインしていたがセッションがタイムアウトしたユーザー。
    *   **システム挙動:**
        *   ユーザーがプレミアム登録画面へアクセスしようとすると、システムは未認証状態を検知し、自動的にログイン画面へリダイレクトします。
        *   リダイレクト時には、ログイン成功後に元のプレミアム登録画面へ自動的に戻るための情報（例: `redirect_to`パラメータ）を付与します。
        *   ログイン画面でユーザーが認証を成功させると、付与された情報に基づき、自動的にプレミアム登録画面へ遷移します。
        *   タイムアウトの場合、ログイン画面で「セッションが切れました。再度ログインしてください」といったメッセージを表示することも検討します。
    *   **ユーザー体験:** 一度ログインを挟むことで手間は発生しますが、ログイン後にスムーズにプレミアム登録プロセスへ復帰できます。セキュリティが確保されます。

### 2.1. 無料アカウントからの情報引き継ぎと手入力
*   プレミアム登録画面に遷移できているユーザーは、基本的に無料アカウントを既に作成済みであり、**ログイン情報が引き継がれている**と想定します。
*   このため、氏名(姓名)、会社名、電話番号、部署名、役職名、住所情報などの基本情報は、ログイン情報を通じて無料アカウント情報から自動的に引き継がれるものとします。
*   自動引き継ぎされた情報が未入力であった場合、ユーザーは当該情報を手入力する必要があります。
*   引き継ぎされた情報、または手入力された情報については、ユーザーが必要に応じて任意で変更できる機能を提供します。

## 3. ユーザー体験 (UX) と法的要件

実務的な推奨フローとして、ユーザー体験を損なわず、かつ法的に安全なラインを考慮した以下の形式を採用します。

### 3.2. 課金（決済）画面での確認事項
*   「購入」ボタンの直上には、以下の文言を明確に表示します。
    **「有料コンテンツ利用規約 および 特定商取引法に基づく表記 に同意の上、購入してください」**
*   「特定商取引法に基づく表記」のリンク先は `specified-commercial-transactions.html` とします。
*   （さらに慎重を期す場合）上記文言に加え、チェックボックスを設けて明示的な同意を求めることも検討します。

### 3.3. 課金に関するルールの再確認
*   ユーザーに同じ規約を何度も読ませる必要はありません。
*   しかし、「お金を払う際のルール（返金不可、支払いサイクルなど）」については、決済の瞬間に再度確認（またはリンクの提示）をページ内表示で行うことが、現在のウェブサービスのスタンダードであり、法的リスク回避につながります。
*   もし、初期の利用規約に「課金に関する詳細」が全く記載されていない場合は、課金開始時に新しい規約（有料版規約）への同意を求めるプロセスを必須とします。

### 3.4. その他のUX/非機能要件

#### 3.4.1. セキュリティ要件
*   **ユーザー認証:** 既存アカウント利用時の認証強化策（例: 多要素認証の検討）。
*   **セッション管理:** セッションの適切な生成、維持、破棄、タイムアウト設定。
*   **通信暗号化:** 全ての通信をHTTPS/TLSで暗号化。
*   **個人情報管理:** 個人情報の適切な取り扱い、保存、アクセス制御、匿名化。
*   **不正アクセス対策:** CAPTCHAの導入、一定期間内の試行回数制限（レートリミット）など。

#### 3.4.2. エラーハンドリング
*   **フォーム入力エラー:** リアルタイムバリデーションと、具体的かつ分かりやすいエラーメッセージの表示。

#### 3.4.3. 画面遷移と状態管理
*   **登録プロセスのステップ数:** 必要に応じて多段階のフォームを検討し、ユーザーが現在の進捗を把握できるプログレス表示（例: ステッパー、パンくずリスト）。
*   **完了画面:** 登録完了後の明確な成功メッセージと、次のアクション（例: ダッシュボードへの遷移ボタン）の提示。
*   **途中離脱時の挙動:** 入力内容の一時保存機能や、再開時の復帰オプションの検討。

#### 3.4.4. 通知関連
*   **登録完了時の通知:** プレミアム登録が完了したことをユーザーにメールで通知。
*   **請求に関する通知:** 請求書の発行通知、支払い期限の案内、入金確認通知などをメールで自動送信。
*   **通知タイミングと宛先:** 各通知の適切な送信タイミングと、ユーザー（および必要に応じて管理者）への宛先設定。

## 4. 決済要件

### 4.1. 支払いサイクル
*   基本的に月末締めとし、請求は後払い形式で発生します。
*   この支払いサイクルについては、登録画面で明示的にユーザーへ案内します。
*   支払い期日については、現状具体的な指標がないため、モック画面上では「◯◯日以内に支払ってください」といった形で仮置きします。
*   プレミアム機能の有効化タイミングは、登録後すぐにプレミアム機能が利用可能となる想定です（料金は月末締め後払いの為）。

### 4.2. 料金体系の明示
決済確定前に、以下の料金体系をユーザーが再確認できるように表示します。
*   **基本料金:** 月額 10,000円（税別）※初月無料。
*   **追加アカウント:** 1グループ3名以上から、1名につき月額 300円（税別）。
*   **従量課金:** 名刺データ化件数、お礼メール送信数に応じた実績課金。

## 5. 今後の作業内容

1.  上記要件を基に、プレミアム登録画面の詳細な機能一覧を作成します。
2.  各機能の具体的な仕様（入力バリデーション、エラーハンドリング、画面遷移など）を定義します。
3.  セキュリティ要件、データストレージ要件なども必要に応じて追加します。
4.  定義された要件について、関係者間でレビューを実施し、最終的な合意形成を行います。
