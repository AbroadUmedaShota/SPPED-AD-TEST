# よくある質問（FAQ）ページ 要件定義書

## 1. 概要
本ドキュメントは、SPEED ADサービスに新しく追加する「よくある質問（FAQ）」ページの要件を定義する。

## 2. 背景と目的
ユーザーがサービス利用中に抱いた疑問を自己解決できる環境を提供することで、ユーザー満足度の向上と、カスタマーサポートへの問い合わせ件数の削減を目指す。特に、頻繁に寄せられる質問や基本的な操作方法に関する問い合わせに対する回答を事前に用意し、ユーザーが必要な情報へ迅速にアクセスできることを目的とする。

## 3. 機能要件

### 3.1. Q&A表示機能
- **アコーディオンUI:**
    - 質問をクリックすると、回答がアコーディオン形式で展開表示される。
    - デフォルト状態では、すべての回答が閉じていること。
    - 一つの質問を展開している状態で別の質問をクリックした場合、先に開いていた回答は自動的に閉じる。
- **カテゴリ分類:**
    - すべてのQ&Aは、内容に応じてカテゴリ分けされる。
    - 画面上では、カテゴリごとにQ&Aリストがグループ化されて表示される。
    - 初期カテゴリ案は以下の通り：
        - **アカウント関連:** 新規登録、ログイン、パスワード再設定、登録情報変更など
        - **アンケート機能関連:** アンケート作成・編集、設問タイプ解説、名刺画像化機能、お礼メール・サンクス画面設定など
        - **料金プラン関連:** 各プランの詳細、支払い方法、請求についてなど
        - **その他:** 上記以外の質問全般

### 3.2. 検索機能
- ページ内にキーワード検索ボックスを配置する。
- ユーザーが入力したキーワードに合致する質問をリアルタイムで絞り込み表示する（インクリメンタルサーチ）。
- **検索対象:** 質問および回答の全文を対象とする。
- **検索ロジック:** 複数のキーワードが入力された場合は、AND検索（すべてのキーワードを含むものを対象）とする。検索時は大文字・小文字、全角・半角は区別しない。
- **結果ゼロ件時:** 検索結果が0件の場合は、「ご指定のキーワードに一致する質問は見つかりませんでした。単語を変えてお試しください。」というメッセージを表示する。

### 3.3. 注目コンテンツ表示機能
- ユーザーからの問い合わせ頻度が高い、または閲覧数が多い重要なQ&Aを「注目の質問」としてページ上部に表示する。
- 表示するQ&Aは、データ側で `isFeatured: true` のフラグを持つものを指定する。

## 4. 画面設計

### 4.1. ワイヤーフレーム
- **ヘッダー/フッター/サイドバー:** 既存の `index.html` やダッシュボード画面の共通コンポーネントをそのまま流用する。
- **メインコンテンツエリア:**
    1.  **（上部）注目の質問セクション:** 3〜5件程度の特に重要なQ&Aを配置。
    2.  **（中部）検索ボックス:** キーワード入力欄を配置。
    3.  **（下部）カテゴリ別Q&Aリスト:** 各カテゴリ名と、それに属するQ&Aのアコーディオンリストを配置。

### 4.2. デザイン原則
- 既存のサービスページ（`02_dashboard`）のデザインシステムと一貫性を保つ。
- ユーザーが直感的に操作できるよう、シンプルで分かりやすいレイアウトとする。

### 4.3. UI/UX詳細
- **検索結果表示:** 検索実行後、キーワードに合致したQ&Aのみを絞り込んで表示する。
- **アコーディオンアイコン:** 各質問の横に、開閉状態を示すアイコン（例: `▼`/`▲`）を表示し、ユーザーの操作を補助する。

## 5. データ構造

### 5.1. JSON構造案
- Q&Aのコンテンツは、メンテナンス性を考慮し、JSONファイルとして外部管理する。
- ファイルパス: `data/faq.json` （仮）
- **構造:**
  ```json
  {
    "categories": [
      {
        "id": "account",
        "name": "アカウント関連",
        "questions": [
          {
            "id": "q001",
            "question": "パスワードを忘れました。",
            "answer": "ログイン画面の「パスワードをお忘れの方はこちら」から再設定手続きを行ってください。",
            "isFeatured": true
          }
        ]
      }
    ]
  }
  ```

### 5.2. サンプルデータ
```json
{
  "categories": [
    {
      "id": "account",
      "name": "アカウント関連",
      "questions": [
        {
          "id": "acc001",
          "question": "パスワードを忘れました。",
          "answer": "ログイン画面の「パスワードをお忘れの方はこちら」から再設定手続きを行ってください。料金はかかりません。",
          "isFeatured": true
        },
        {
          "id": "acc002",
          "question": "登録したメールアドレスを変更したい。",
          "answer": "アカウント設定画面より変更可能です。",
          "isFeatured": false
        }
      ]
    },
    {
      "id": "survey",
      "name": "アンケート機能関連",
      "questions": [
        {
          "id": "sur001",
          "question": "アンケートの回答に画像は利用できますか？",
          "answer": "はい、画像選択肢の設問タイプをご利用いただけます。",
          "isFeatured": true
        }
      ]
    },
    {
      "id": "billing",
      "name": "料金プラン関連",
      "questions": [
        {
          "id": "bil001",
          "question": "利用料金の支払い方法を教えてください。",
          "answer": "クレジットカード払いと銀行振込に対応しております。",
          "isFeatured": false
        }
      ]
    }
  ]
}
```

## 6. 非機能要件
- **パフォーマンス:** ページの読み込み、検索結果の表示は高速であること。
- **アクセシビリティ:** キーボード操作のみで全ての機能（アコーディオンの開閉、リンク遷移など）が利用可能であること。スクリーンリーダーへの対応も考慮する。

## 7. 検討事項
- **Q&A表示方法:** アコーディオン形式を基本とするが、回答が長文になる場合や画像を含む場合を想定し、詳細ページへ遷移させる方式も代替案として検討の余地があるか。→ **結論：まずはアコーディオン形式で実装を進める。**
- **「注目の質問」の選定ロジック:** 将来的には、Google Analyticsなどのアクセス解析データと連携し、閲覧数の多いページを自動でリストアップする仕組みを検討する。
- **コンテンツ管理:** Q&Aコンテンツを追加・編集するための簡易的な管理画面の要否。→ **結論：初期リリースでは不要。JSONファイルを直接編集する運用とする。**

## 8. エラーハンドリング
- **データ取得失敗:** Q&Aデータ（JSONファイル）の読み込みに失敗した場合、ページ全体で「現在、情報を表示できません。時間をおいて再度お試しください。」というエラーメッセージを表示する。