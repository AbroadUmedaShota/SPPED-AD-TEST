<!DOCTYPE html>
<html lang="ja" class="h-full">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SPEEDレビュー - SpeedAd</title>
    <!-- Tailwind CSS CDN -->
    <script src="https://cdn.tailwindcss.com?plugins=forms,container-queries"></script>
    <!-- Material Icons CDN -->
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <!-- Custom CSS -->
    <link rel="stylesheet" href="service-top-style.css">
    <!-- Custom Fonts -->
    <link rel="preconnect" href="https://fonts.gstatic.com/" crossorigin>
    <link as="style" href="https://fonts.googleapis.com/css2?display=swap&family=Inter%3Awght%40400%3B500%3B700%3B900&family=Noto+Sans+JP%3Awght%40400%3B500%3B700%3B900" onload="this.rel='stylesheet'" rel="stylesheet">
</head>
<body class="bg-background text-on-background h-full">

<div class="relative flex min-h-screen flex-col overflow-x-hidden">

    <!-- サイドバー用オーバーレイ -->
    <div id="mobileSidebarOverlay" class="mobile-sidebar-overlay lg:hidden"></div>

    <div id="header-placeholder"></div>

    <div class="flex flex-1 pt-16 bg-background">
        <div id="sidebar-placeholder"></div>
        <main class="flex flex-1 flex-col py-8 px-4 sm:px-6 lg:px-8" id="main-content">
            <div class="flex flex-col w-full max-w-7xl mx-auto flex-1">
                <!-- パンくずリストコンテナ -->
                <div id="breadcrumb-container" class="mb-4"></div>

                <!-- タイトルエリア -->
                <div class="flex flex-wrap justify-between items-center gap-4 mb-6 pb-4 border-b border-outline-variant">
                    <h1 class="text-on-background text-2xl sm:text-3xl font-bold leading-tight tracking-tight">SPEEDレビュー</h1>
                    <p id="review-survey-name" class="text-sm text-on-surface-variant">アンケート名: (ここにアンケート名が入ります)</p>
                </div>

                <!-- ツールバーエリア -->
                <div class="bg-surface p-4 rounded-xl mb-6">
                    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 items-end">
                        <!-- キーワード検索 -->
                        <div class="input-group lg:col-span-1 relative">
                            <input type="text" id="searchKeyword" placeholder=" " class="input-field pl-10 pr-10">
                            <label for="searchKeyword" class="input-label">キーワードで検索</label>
                            <span class="material-icons absolute left-3 top-1/2 -translate-y-1/2 text-on-surface-variant text-xl pointer-events-none">search</span>
                        </div>
                        <!-- 他のフィルター（例：日付）はここに追加 -->
                    </div>
                </div>

                <!-- 回答データテーブル -->
                <div class="overflow-x-auto rounded-xl border border-outline-variant bg-surface relative min-h-[300px]">
                    <table class="w-full min-w-[1000px] divide-y divide-outline-variant review-table" id="reviewTable">
                        <thead class="bg-surface-variant">
                            <tr>
                                <th class="px-4 py-3 text-left text-on-surface-variant text-xs font-semibold uppercase tracking-wider w-28">アクション</th>
                                <th class="px-4 py-3 text-left text-on-surface-variant text-xs font-semibold uppercase tracking-wider">回答ID</th>
                                <th class="px-4 py-3 text-left text-on-surface-variant text-xs font-semibold uppercase tracking-wider">回答日時</th>
                                <th class="px-4 py-3 text-left text-on-surface-variant text-xs font-semibold uppercase tracking-wider">氏名</th>
                                <th class="px-4 py-3 text-left text-on-surface-variant text-xs font-semibold uppercase tracking-wider">会社名</th>
                                <th class="px-4 py-3 text-left text-on-surface-variant text-xs font-semibold uppercase tracking-wider">主な業界(Q.02)</th>
                                <th class="px-4 py-3 text-left text-on-surface-variant text-xs font-semibold uppercase tracking-wider">緊急度(Q.06)</th>
                            </tr>
                        </thead>
                        <tbody class="divide-y divide-outline-variant" id="reviewTableBody">
                            <!-- JSにより動的に行が挿入されます -->
                        </tbody>
                    </table>
                </div>

                <!-- ページネーション -->
                <div class="flex flex-wrap items-center justify-between gap-4 py-4 px-2 text-on-surface-variant text-sm">
                    <div class="flex items-center gap-2">
                        <span>表示件数:</span>
                        <select id="itemsPerPage" class="py-1 px-2 rounded-md border border-outline-variant bg-surface-bright text-on-surface-variant appearance-none" aria-label="1ページあたりの表示件数">
                            <option value="10">10</option>
                            <option value="25">25</option>
                            <option value="50">50</option>
                        </select>
                    </div>
                    <div class="flex items-center gap-2">
                        <button class="p-1 rounded-full hover:bg-surface-variant transition-colors disabled:opacity-50 disabled:cursor-not-allowed" title="前へ" id="prevPageBtn" aria-label="前のページへ"><span class="material-icons text-lg">chevron_left</span></button>
                        <div id="pagination-numbers" class="flex items-center gap-1"></div>
                        <button class="p-1 rounded-full hover:bg-surface-variant transition-colors disabled:opacity-50 disabled:cursor-not-allowed" title="次へ" id="nextPageBtn" aria-label="次のページへ"><span class="material-icons text-lg">chevron_right</span></button>
                    </div>
                    <div id="pageInfo" class="font-medium min-w-[120px] text-right">1 - 0 / 全 0件</div>
                </div>

            </div>
        </main>
    </div>

    <!-- 5. フッター -->
    <div id="footer-placeholder"></div>

</div>

<!-- 詳細表示モーダル -->
<div id="reviewDetailModal" class="fixed inset-0 z-50 hidden items-center justify-center bg-black bg-opacity-50">
    <div class="modal-content bg-surface text-on-surface rounded-lg shadow-xl w-full max-w-3xl max-h-[90vh] flex flex-col">
        <div class="flex justify-between items-center p-4 border-b border-outline-variant">
            <h2 class="text-xl font-bold">回答詳細</h2>
            <button id="closeDetailModalBtn" class="text-on-surface hover:text-primary"><span class="material-icons">close</span></button>
        </div>
        <div class="p-6 overflow-y-auto">
            <!-- 名刺情報セクション -->
            <section class="mb-8">
                <h3 class="text-lg font-bold border-b border-primary pb-2 mb-4 text-primary">名刺情報</h3>
                <div id="modal-business-card-details" class="grid grid-cols-1 md:grid-cols-2 gap-x-8 gap-y-6">
                    <!-- JSで動的に生成 -->
                </div>
            </section>

            <!-- アンケート回答セクション -->
            <section>
                <h3 class="text-lg font-bold border-b border-primary pb-2 mb-4 text-primary">アンケート回答</h3>
                <div id="modal-survey-answer-details" class="space-y-6">
                    <!-- JSで動的に生成 -->
                </div>
            </section>
        </div>
        <div class="p-4 border-t border-outline-variant text-right">
            <button id="editDetailBtn" class="button-secondary py-2 px-4 rounded-md font-semibold">編集する</button>
        </div>
    </div>
</div>

<!-- JSファイル -->
<script src="https://cdn.jsdelivr.net/npm/flatpickr"></script>
<script src="https://cdn.jsdelivr.net/npm/flatpickr/dist/l10n/ja.js"></script>
<script type="module" src="src/main.js"></script>
<script type="module" src="src/speed-review.js"></script> <!-- この画面専用のJS -->
</body>
</html>
