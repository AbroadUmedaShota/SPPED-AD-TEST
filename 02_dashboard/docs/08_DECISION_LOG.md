# 設計決定記録 (Architecture Decision Record)

このドキュメントは、プロジェクトのアーキテクチャに関する重要な決定を記録します。

---

## ADR-001: 日付ピッカーライブラリの導入

-   **ステータス:** 決定 (2025-07-22)
-   **決定者:** Gemini

### コンテキスト (背景)

-   アンケート一覧ページのフィルター機能において、ユーザーが期間（開始日・終了日）を指定するための日付入力UIが必要となった。
-   標準のHTML要素である `<input type="date">` を使用した場合、ブラウザ（Chrome, Safari, Firefoxなど）やOSによって表示されるカレンダーの見た目や操作性が異なり、一貫したユーザー体験を提供できないという課題があった。
-   また、ネイティブUIはアプリケーション全体のデザインテーマと乖離があり、ブランドイメージを損なう可能性があった。

### 決定 (何を決めたか)

-   標準の `<input type="date">` の使用を避け、JavaScriptベースのカスタム日付ピッカーライブラリ **`flatpickr`** を導入することを決定する。
-   `flatpickr` を利用して、アプリケーション全体で統一されたデザインと操作性を持つ日付ピッカーを提供する。

### 根拠 (なぜその決定をしたか)

-   **UI/UXの一貫性:** `flatpickr` を導入することで、全てのユーザーに同じデザインのカレンダーを提供でき、学習コストの低い、予測可能な操作性を実現できる。
-   **デザインの親和性:** スタイルをCSSで自由にカスタマイズできるため、アプリケーションのカラーテーマやデザインシステムに完全に統合できる。
-   **高機能:** 開始日と終了日の連動（期間範囲の制限）など、ネイティブ要素では実装が難しい高度な機能を容易に実現できる。
-   **軽量性:** `flatpickr` は多機能でありながら軽量で、パフォーマンスへの影響が比較的小さい。
-   **アクセシビリティ:** `flatpickr` はWAI-ARIA標準に準拠しており、スクリーンリーダーなどを使用するユーザーにも配慮されている。

### 結果 (決定による影響)

-   `index.html` に `flatpickr` のCSSとJSがCDN経由で追加された。
-   `src/main.js` に `flatpickr` の初期化ロジックが実装された。
-   `docs/02_CODING_STANDARDS.md` に `flatpickr` の標準的な利用方法が規約として追加された。
-   今後の開発で日付入力が必要な場合は、原則として `flatpickr` を使用する。
