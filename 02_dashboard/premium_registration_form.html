<!DOCTYPE html>
<html lang="ja" class="scroll-smooth">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Speed Ad プレミアムプラン登録</title>

    <link rel="icon" href="assets/svg/speedad_logo.svg" type="image/svg+xml">
    <!-- Tailwind CSS CDN -->
    <script src="https://cdn.tailwindcss.com?plugins=forms,container-queries"></script>
    <!-- Material Icons CDN -->
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <!-- Custom Fonts -->
    <link rel="preconnect" href="https://fonts.gstatic.com/" crossorigin>
    <link as="style"
        href="https://fonts.googleapis.com/css2?display=swap&family=Inter%3Awght%40400%3B500%3B700%3B900&family=Noto+Sans+JP%3Awght%40400%3B500%3B700%3B900"
        onload="this.rel='stylesheet'" rel="stylesheet">

    <!-- 共通スタイルシート -->
    <link rel="stylesheet" href="service-top-style.css">
    <!-- プレミアム登録フォーム専用スタイルシート -->
    <link rel="stylesheet" href="premium_signup.css"> <!-- 既存のCSSを流用 -->
</head>

<body class="bg-background text-on-background">

    <!-- 1. アプリケーション全体構造 -->
    <div class="relative flex min-h-screen flex-col overflow-x-hidden">

        <!-- 2. ヘッダー (main.jsによって読み込まれる) -->
        <div id="header-placeholder"></div>

        <div class="flex flex-1 pt-16 bg-background">
            <!-- 4. メインコンテンツ -->
            <main class="flex flex-1 flex-col py-8 px-4 sm:px-6 lg:px-8" id="main-content">
                <div class="flex flex-col w-full max-w-6xl mx-auto flex-1">
                    <h1 class="text-on-surface text-2xl md:text-3xl font-bold mb-8 text-center">プレミアムプラン登録</h1>

                    <!-- ステップ表示 (パンくずリスト形式) -->
                    <nav class="flex justify-center mb-8" aria-label="Progress">
                        <ol role="list" class="space-y-4 sm:flex sm:space-x-8 sm:space-y-0">
                            <li class="flex-1">
                                <a href="#" class="group flex flex-col border-l-4 border-primary py-2 pl-4 md:border-l-0 md:border-t-4 md:pb-0 md:pl-0 md:pt-4" aria-current="step">
                                    <span class="text-sm font-medium text-primary">ステップ 1</span>
                                    <span class="text-sm font-medium">アカウント情報</span>
                                </a>
                            </li>
                            <li class="flex-1">
                                <a href="#" class="group flex flex-col border-l-4 border-outline-variant py-2 pl-4 hover:border-outline md:border-l-0 md:border-t-4 md:pb-0 md:pl-0 md:pt-4">
                                    <span class="text-sm font-medium text-on-surface-variant">ステップ 2</span>
                                    <span class="text-sm font-medium text-on-surface-variant">ユーザー・住所情報</span>
                                </a>
                            </li>
                            <li class="flex-1">
                                <a href="#" class="group flex flex-col border-l-4 border-outline-variant py-2 pl-4 hover:border-outline md:border-l-0 md:border-t-4 md:pb-0 md:pl-0 md:pt-4">
                                    <span class="text-sm font-medium text-on-surface-variant">ステップ 3</span>
                                    <span class="text-sm font-medium text-on-surface-variant">同意・確認</span>
                                </a>
                            </li>
                        </ol>
                    </nav>

                    <!-- フォーム本体 -->
                    <div class="bg-surface rounded-xl shadow-soft p-8 md:p-12 mb-8">
                        <p class="text-sm text-on-surface-variant mb-6 text-right"><span class="text-error">*</span>は必須項目です</p>
                        <form id="premiumRegistrationForm" action="#" method="POST">
                            <!-- アカウント情報 -->
                            <section id="step1-account-info">
                                <h2 class="text-on-surface text-xl font-semibold mb-6">ステップ 1: アカウント情報</h2>
                                <div class="space-y-6">
                                    <div>
                                        <label for="email" class="block text-sm font-medium text-on-surface">メールアドレス <span class="text-error">*</span></label>
                                        <input type="email" id="email" name="email" class="mt-1 block w-full rounded-md border-outline-variant shadow-sm focus:border-primary focus:ring-primary sm:text-sm" value="user@example.com" readonly>
                                        <p class="mt-2 text-sm text-on-surface-variant">ログイン中のメールアドレスが表示されます。変更はできません。</p>
                                    </div>
                                    <div>
                                        <label for="password" class="block text-sm font-medium text-on-surface">パスワード <span class="text-error">*</span></label>
                                        <div class="relative">
                                            <input type="password" id="password" name="password" class="mt-1 block w-full rounded-md border-outline-variant shadow-sm focus:border-primary focus:ring-primary sm:text-sm pr-10" required>
                                            <button type="button" class="absolute inset-y-0 right-0 pr-3 flex items-center text-sm leading-5" id="togglePasswordVisibility">
                                                <span class="material-icons text-on-surface-variant text-lg">visibility_off</span>
                                            </button>
                                        </div>
                                        <p class="mt-2 text-sm text-on-surface-variant">8文字以上の半角英数字と記号を組み合わせてください。</p>
                                    </div>
                                    <div>
                                        <label for="passwordConfirm" class="block text-sm font-medium text-on-surface">パスワード (確認) <span class="text-error">*</span></label>
                                        <input type="password" id="passwordConfirm" name="passwordConfirm" class="mt-1 block w-full rounded-md border-outline-variant shadow-sm focus:border-primary focus:ring-primary sm:text-sm" required>
                                    </div>
                                </div>
                                <div class="mt-8 flex justify-end">
                                    <button type="button" id="nextToStep2" class="cta-button">
                                        <span class="button-text">次へ</span>
                                        <span class="spinner-border spinner-border-sm" role="status" aria-hidden="true"></span>
                                    </button>
                                </div>
                            </section>

                            <!-- ユーザー・住所情報 -->
                            <section id="step2-user-address" class="hidden">
                                <h2 class="text-on-surface text-xl font-semibold mb-6">ステップ 2: ユーザー・住所情報</h2>
                                <div class="space-y-6">
                                    <!-- ユーザー基本情報 -->
                                    <fieldset>
                                        <legend class="text-base font-medium text-on-surface mb-4">ユーザー基本情報</legend>
                                        <div class="grid grid-cols-1 gap-y-6 sm:grid-cols-2 sm:gap-x-8">
                                            <div>
                                                <label for="lastName" class="block text-sm font-medium text-on-surface">氏名 (姓) <span class="text-error">*</span></label>
                                                <input type="text" id="lastName" name="lastName" class="mt-1 block w-full rounded-md border-outline-variant shadow-sm focus:border-primary focus:ring-primary sm:text-sm" required>
                                            </div>
                                            <div>
                                                <label for="firstName" class="block text-sm font-medium text-on-surface">氏名 (名) <span class="text-error">*</span></label>
                                                <input type="text" id="firstName" name="firstName" class="mt-1 block w-full rounded-md border-outline-variant shadow-sm focus:border-primary focus:ring-primary sm:text-sm" required>
                                            </div>
                                            <div class="sm:col-span-2">
                                                <label for="companyName" class="block text-sm font-medium text-on-surface">会社名 <span class="text-error">*</span></label>
                                                <input type="text" id="companyName" name="companyName" class="mt-1 block w-full rounded-md border-outline-variant shadow-sm focus:border-primary focus:ring-primary sm:text-sm" required>
                                            </div>
                                            <div class="sm:col-span-2">
                                                <label for="phoneNumber" class="block text-sm font-medium text-on-surface">電話番号 <span class="text-error">*</span></label>
                                                <input type="tel" id="phoneNumber" name="phoneNumber" class="mt-1 block w-full rounded-md border-outline-variant shadow-sm focus:border-primary focus:ring-primary sm:text-sm" placeholder="03-1234-5678" required>
                                            </div>
                                            <div class="sm:col-span-2">
                                                <label for="departmentName" class="block text-sm font-medium text-on-surface">部署名 (任意)</label>
                                                <input type="text" id="departmentName" name="departmentName" class="mt-1 block w-full rounded-md border-outline-variant shadow-sm focus:border-primary focus:ring-primary sm:text-sm">
                                            </div>
                                            <div class="sm:col-span-2">
                                                <label for="positionName" class="block text-sm font-medium text-on-surface">役職名 (任意)</label>
                                                <input type="text" id="positionName" name="positionName" class="mt-1 block w-full rounded-md border-outline-variant shadow-sm focus:border-primary focus:ring-primary sm:text-sm">
                                            </div>
                                        </div>
                                    </fieldset>

                                    <!-- 住所情報 -->
                                    <fieldset>
                                        <legend class="text-base font-medium text-on-surface mb-4">住所情報</legend>
                                        <div class="grid grid-cols-1 gap-y-6 sm:grid-cols-2 sm:gap-x-8">
                                            <div class="sm:col-span-2">
                                                <label for="postalCode" class="block text-sm font-medium text-on-surface">郵便番号 <span class="text-error">*</span></label>
                                                <input type="text" id="postalCode" name="postalCode" class="mt-1 block w-full rounded-md border-outline-variant shadow-sm focus:border-primary focus:ring-primary sm:text-sm" placeholder="例: 100-0001" required>
                                                <button type="button" id="lookupAddress" class="mt-2 inline-flex items-center px-3 py-1.5 border border-outline shadow-sm text-sm font-medium rounded-md text-on-surface bg-surface-variant hover:bg-outline focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary">
                                                    <span class="button-text">郵便番号から住所を自動入力</span>
                                                    <span class="spinner-border spinner-border-sm" role="status" aria-hidden="true"></span>
                                                </button>
                                            </div>
                                            <div class="sm:col-span-2">
                                                <label for="address" class="block text-sm font-medium text-on-surface">住所 (都道府県・市区町村・番地) <span class="text-error">*</span></label>
                                                <input type="text" id="address" name="address" class="mt-1 block w-full rounded-md border-outline-variant shadow-sm focus:border-primary focus:ring-primary sm:text-sm" required>
                                            </div>
                                            <div class="sm:col-span-2">
                                                <label for="buildingFloor" class="block text-sm font-medium text-on-surface">建物名・部屋番号 (任意)</label>
                                                <input type="text" id="buildingFloor" name="buildingFloor" class="mt-1 block w-full rounded-md border-outline-variant shadow-sm focus:border-primary focus:ring-primary sm:text-sm">
                                            </div>
                                        </div>
                                    </fieldset>

                                    <!-- 請求先情報 -->
                                    <fieldset>
                                        <legend class="text-base font-medium text-on-surface mb-4">請求先情報</legend>
                                        <div class="space-y-4">
                                            <div class="flex items-center">
                                                <input id="billingAddressSame" name="billingAddressType" type="radio" class="focus:ring-primary h-4 w-4 text-primary border-outline-variant" value="same" checked>
                                                <label for="billingAddressSame" class="ml-3 block text-sm font-medium text-on-surface">ユーザーの住所と同じ</label>
                                            </div>
                                            <div class="flex items-center">
                                                <input id="billingAddressDifferent" name="billingAddressType" type="radio" class="focus:ring-primary h-4 w-4 text-primary border-outline-variant" value="different">
                                                <label for="billingAddressDifferent" class="ml-3 block text-sm font-medium text-on-surface">別の請求先を入力する</label>
                                            </div>
                                            <div id="billingAddressFields" class="space-y-6 hidden mt-4 p-4 border border-outline-variant rounded-md bg-background-variant">
                                                <!-- 別の請求先住所入力欄 (住所情報と同様のフィールドを配置) -->
                                                <div>
                                                    <label for="billingPostalCode" class="block text-sm font-medium text-on-surface">郵便番号 <span class="text-error">*</span></label>
                                                    <input type="text" id="billingPostalCode" name="billingPostalCode" class="mt-1 block w-full rounded-md border-outline-variant shadow-sm focus:border-primary focus:ring-primary sm:text-sm" placeholder="例: 100-0001">
                                                    <button type="button" id="lookupBillingAddress" class="mt-2 inline-flex items-center px-3 py-1.5 border border-outline shadow-sm text-sm font-medium rounded-md text-on-surface bg-surface-variant hover:bg-outline focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary">
                                                        <span class="button-text">郵便番号から住所を自動入力</span>
                                                    <span class="spinner-border spinner-border-sm" role="status" aria-hidden="true"></span>
                                                    </button>
                                                </div>
                                                <div>
                                                    <label for="billingAddress" class="block text-sm font-medium text-on-surface">住所 (都道府県・市区町村・番地) <span class="text-error">*</span></label>
                                                    <input type="text" id="billingAddress" name="billingAddress" class="mt-1 block w-full rounded-md border-outline-variant shadow-sm focus:border-primary focus:ring-primary sm:text-sm">
                                                </div>
                                                <div>
                                                    <label for="billingBuildingFloor" class="block text-sm font-medium text-on-surface">建物名・部屋番号 (任意)</label>
                                                    <input type="text" id="billingBuildingFloor" name="billingBuildingFloor" class="mt-1 block w-full rounded-md border-outline-variant shadow-sm focus:border-primary focus:ring-primary sm:text-sm">
                                                </div>
                                            </div>
                                        </div>
                                    </fieldset>
                                </div>
                                <div class="mt-8 flex justify-between">
                                    <button type="button" id="prevToStep1" class="cta-button secondary">
                                        <span class="button-text">戻る</span>
                                        <span class="spinner-border spinner-border-sm" role="status" aria-hidden="true"></span>
                                    </button>
                                    <button type="button" id="nextToStep3" class="cta-button">
                                        <span class="button-text">次へ</span>
                                        <span class="spinner-border spinner-border-sm" role="status" aria-hidden="true"></span>
                                    </button>
                                </div>
                            </section>

                            <!-- 同意・確認 -->
                            <section id="step3-confirmation" class="hidden">
                                <h2 class="text-on-surface text-xl font-semibold mb-6">ステップ 3: 同意・確認</h2>
                                <div class="space-y-6">
                                    <fieldset>
                                        <legend class="text-base font-medium text-on-surface mb-4">同意事項</legend>
                                        <div class="space-y-4">
                                            <div class="flex items-start">
                                                <div class="flex items-center h-5">
                                                    <input id="agreeTerms" name="agreeTerms" type="checkbox" class="focus:ring-primary h-4 w-4 text-primary border-outline-variant rounded" required>
                                                </div>
                                                <div class="ml-3 text-sm">
                                                    <label for="agreeTerms" class="font-medium text-on-surface">
                                                        <a href="terms-of-service.html" class="text-primary hover:underline" target="_blank" rel="noopener noreferrer">利用規約</a>に同意する <span class="text-error">*</span>
                                                    </label>
                                                </div>
                                            </div>
                                            <div class="flex items-start">
                                                <div class="flex items-center h-5">
                                                    <input id="agreePrivacy" name="agreePrivacy" type="checkbox" class="focus:ring-primary h-4 w-4 text-primary border-outline-variant rounded" required>
                                                </div>
                                                <div class="ml-3 text-sm">
                                                    <label for="agreePrivacy" class="font-medium text-on-surface">
                                                        <a href="personal-data-protection-policy.html" class="text-primary hover:underline" target="_blank" rel="noopener noreferrer">プライバシーポリシー</a>に同意する <span class="text-error">*</span>
                                                    </label>
                                                </div>
                                            </div>
                                            <div class="flex items-start">
                                                <div class="flex items-center h-5">
                                                    <input id="agreePersonalData" name="agreePersonalData" type="checkbox" class="focus:ring-primary h-4 w-4 text-primary border-outline-variant rounded" required>
                                                </div>
                                                <div class="ml-3 text-sm">
                                                    <label for="agreePersonalData" class="font-medium text-on-surface">
                                                        <a href="personal-data-protection-policy.html" class="text-primary hover:underline" target="_blank" rel="noopener noreferrer">個人情報の取り扱い</a>に同意する <span class="text-error">*</span>
                                                    </label>
                                                </div>
                                            </div>
                                        </div>
                                    </fieldset>

                                    <!-- 支払い・請求関連情報の表示 -->
                                    <section class="mt-8 p-6 bg-background-variant rounded-md">
                                        <h3 class="text-on-surface text-lg font-semibold mb-4">お支払いについて</h3>
                                        <p class="text-on-surface-variant mb-2">プレミアムプランの料金は月額 <span class="font-bold">10,000円 (税別)</span> です。</p>
                                        <p class="text-on-surface-variant mb-2">お支払い方法は <span class="font-bold">銀行振込のみ</span> となります。</p>
                                        <p class="text-on-surface-variant">登録完了後、お客様のダッシュボードに請求書が発行されます。請求書に記載された期日までに指定の銀行口座へお振込みをお願いいたします。</p>
                                        <p class="text-on-surface-variant mt-4 text-sm">※ プレミアム機能の有効化タイミングについては、別途ご案内させていただきます。</p>
                                    </section>
                                </div>
                                <div class="mt-8 flex justify-between">
                                    <button type="button" id="prevToStep2" class="cta-button secondary">
                                        <span class="button-text">戻る</span>
                                        <span class="spinner-border spinner-border-sm" role="status" aria-hidden="true" style="display:none;"></span>
                                    </button>
                                    <button type="submit" id="submitRegistration" class="cta-button">
                                        <span class="button-text">プレミアム登録を完了する</span>
                                        <span class="spinner-border spinner-border-sm" role="status" aria-hidden="true" style="display:none;"></span>
                                    </button>
                                </div>
                            </section>

                        </form>
                    </div>

                </div>
            </main>
        </div>

        <!-- 5. フッター (main.jsによって読み込まれる) -->
        <div id="footer-placeholder"></div>

    </div>

    <!-- JSファイル -->
    <script type="module" src="src/main.js"></script>
    <script src="premium_registration_form.js"></script> <!-- フォーム専用のロジックを読み込む -->

</body>

</html>