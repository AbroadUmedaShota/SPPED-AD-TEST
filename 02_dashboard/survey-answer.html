<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SpeedAd - アンケート回答</title>
    <link rel="icon" href="assets/svg/speedad_logo.svg" type="image/svg+xml">
    <!-- Tailwind CSS CDN -->
    <script src="https://cdn.tailwindcss.com?plugins=forms,container-queries"></script>
    <!-- Material Icons CDN -->
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <!-- Custom CSS -->
    <link rel="stylesheet" href="service-top-style.css">
    <!-- Custom Fonts -->
    <link rel="preconnect" href="https://fonts.gstatic.com/" crossorigin>
    <link as="style" href="https://fonts.googleapis.com/css2?display=swap&family=Inter%3Awght%40400%3B500%3B700%3B900&family=Noto+Sans+JP%3Awght%40400%3B500%3B700%3B900" onload="this.rel='stylesheet'" rel="stylesheet">
</head>
<body class="bg-background text-on-background">
    <div class="min-h-screen bg-background">
        <header class="border-b border-outline-variant bg-surface">
            <div class="mx-auto flex max-w-3xl items-start justify-between gap-4 px-4 py-5 sm:px-6 lg:px-8">
                <div>
                    <p class="text-xl font-semibold text-on-surface">SpeedAd</p>
                    <p class="text-sm text-on-surface-variant">アンケート回答フォーム</p>
                </div>
                <a href="mailto:support@speedad.example" class="text-sm font-medium text-primary hover:underline">
                    お問い合わせ
                </a>
            </div>
        </header>

        <main class="mx-auto flex max-w-3xl flex-col px-4 py-10 sm:px-6 lg:px-8" id="main-content">
            <div id="error-container" class="hidden bg-error-container text-on-error-container p-4 rounded-lg mb-6" role="alert">
                <div class="flex">
                    <div class="flex-shrink-0">
                        <span class="material-icons">error</span>
                    </div>
                    <div class="ml-3">
                        <h3 class="text-sm font-medium" id="error-title">エラーが発生しました</h3>
                        <div class="mt-2 text-sm" id="error-message">
                            <p>アンケートを読み込めませんでした。URLが正しいかご確認ください。</p>
                        </div>
                    </div>
                </div>
            </div>

            <div id="survey-container" class="bg-surface p-6 sm:p-8 rounded-xl shadow-md">
                <div id="survey-header" class="mb-8" aria-live="polite"></div>
                <form id="survey-form" class="space-y-6">
                    <!-- 名刺添付セクション (JSで表示/非表示を制御) -->
                    <div id="bizcard-section" class="hidden border-t border-outline-variant pt-6 mt-6">
                        <h3 class="text-lg font-medium text-on-surface">名刺画像のご提供</h3>
                        <p class="text-sm text-on-surface-variant mt-1 mb-4">
                            名刺の画像を添付してください。
                        </p>
                        <div class="flex items-center justify-center w-full">
                            <label for="bizcard-upload" class="flex flex-col items-center justify-center w-full h-48 border-2 border-outline-variant border-dashed rounded-lg cursor-pointer bg-surface-container hover:bg-surface-container-high">
                                <div class="flex flex-col items-center justify-center pt-5 pb-6">
                                    <span class="material-icons text-4xl text-on-surface-variant">cloud_upload</span>
                                    <p class="mb-2 text-sm text-on-surface-variant"><span class="font-semibold">クリックしてアップロード</span>またはドラッグ＆ドロップ</p>
                                    <p class="text-xs text-on-surface-variant">PNG, JPG (最大 5MB)</p>
                                </div>
                                <input id="bizcard-upload" type="file" class="hidden" accept="image/png, image/jpeg" />
                            </label>
                        </div>
                        <div id="bizcard-preview-container" class="hidden mt-4">
                            <p class="text-sm font-medium text-on-surface mb-2">プレビュー:</p>
                            <img id="bizcard-preview" src="#" alt="名刺プレビュー" class="max-w-xs rounded-lg shadow-md" />
                            <button type="button" id="bizcard-remove" class="mt-2 text-sm text-error hover:underline">画像を削除</button>
                        </div>
                    </div>
                </form>
                <div id="completion-message" class="hidden text-center py-10" role="status" aria-live="polite">
                    <div id="completion-content">
                        <!-- この中身をJSで動的に生成する -->
                    </div>
                </div>
            </div>
        </main>

        <footer class="mt-12 border-t border-outline-variant bg-surface">
            <div class="mx-auto max-w-3xl px-4 py-6 text-sm text-on-surface-variant sm:px-6 lg:px-8">
                このページはSpeedAdからのアンケート依頼に基づき提供されています。ご不明点は上部のお問い合わせ先までご連絡ください。
            </div>
        </footer>
    </div>

    <script type="module" src="src/survey-answer.js"></script>
</body>
</html>